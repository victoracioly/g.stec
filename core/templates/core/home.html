{% extends 'core/base.html' %}

{% block title %}Painel do Engenheiro ClÃ­nico{% endblock %}

{% block content %}

<div class="container">
  <!-- Quadro de Avisos -->
  <div class="alert alert-info shadow-sm" role="alert">
    <strong>ğŸ“¢ Aviso da AdministraÃ§Ã£o Central:</strong> Aos que estao participando do TED, favor atentem-se em manter
  </div>

  <!-- Indicadores em Cards -->

  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card text-white bg-primary mb-3">
        <div class="card-body">
          <h5 class="card-title">Atas Vigentes</h5>
          <p class="card-text">{{ atas_vigentes }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-success mb-3">
        <div class="card-body">
          <h5 class="card-title">Custo com Equipamentos (R$)</h5>
          <p class="card-text">{{ custo_equipamentos|floatformat:2 }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-warning mb-3">
        <div class="card-body">
          <h5 class="card-title">Custo com Materiais (R$)</h5>
          <p class="card-text">{{ custo_materiais|floatformat:2 }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Contratos PrÃ³ximos do Vencimento -->

  <div class="card mb-4">
    <div class="card-header bg-light">
      <strong>ğŸ“† Contratos prÃ³ximos do vencimento</strong>
    </div>
    <ul class="list-group list-group-flush">
      {% for contrato in contratos_proximos %}
        <li class="list-group-item">Contrato {{ contrato.numero }} â€“ vence em {{ contrato.vencimento }}</li>
      {% empty %}
        <li class="list-group-item">Nenhum contrato prÃ³ximo do vencimento.</li>
      {% endfor %}
    </ul>
  </div>

  <!-- SituaÃ§Ã£o das Atas -->

  <div class="card mb-4">
    <div class="card-header bg-light">
      <strong>ğŸ“ SituaÃ§Ã£o das Atas</strong>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Atas com itens pendentes: {{ atas_pendentes }}</li>
      <li class="list-group-item">Atas vencidas este ano: {{ atas_vencidas }}</li>
    </ul>
  </div>

  <!-- Indicadores RÃ¡pidos -->

  <div class="card mb-4">
    <div class="card-header bg-light">
      <strong>ğŸ“Š Indicadores RÃ¡pidos</strong>
    </div>
    <div class="card-body">
      <p>AquisiÃ§Ãµes este mÃªs: <strong>{{ aquisicoes_mes }}</strong></p>
      <p>Total gasto em contratos ativos: <strong>R$ {{ gasto_contratos|floatformat:2 }}</strong></p>
      <p>Fornecedores ativos: <strong>{{ fornecedores_ativos }}</strong></p>
    </div>
  </div>

  <!-- GrÃ¡fico de TendÃªncia (Simulado) -->

  <div class="card mb-4">
    <div class="card-header bg-light">
      <strong>ğŸ“ˆ TendÃªncia de AquisiÃ§Ãµes</strong>
    </div>
    <div class="card-body">
      <p>(Aqui pode ser inserido um grÃ¡fico de linha usando Chart.js, Plotly ou imagem gerada no backend)</p>
    </div>
  </div>
</div>
{% endblock %}
